import { createClient as c } from "https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/+esm"; (function () { const e = document.createElement("link").relList; if (e && e.supports && e.supports("modulepreload")) return; for (const r of document.querySelectorAll('link[rel="modulepreload"]')) a(r); new MutationObserver(r => { for (const t of r) if (t.type === "childList") for (const i of t.addedNodes) i.tagName === "LINK" && i.rel === "modulepreload" && a(i) }).observe(document, { childList: !0, subtree: !0 }); function n(r) { const t = {}; return r.integrity && (t.integrity = r.integrity), r.referrerPolicy && (t.referrerPolicy = r.referrerPolicy), r.crossOrigin === "use-credentials" ? t.credentials = "include" : r.crossOrigin === "anonymous" ? t.credentials = "omit" : t.credentials = "same-origin", t } function a(r) { if (r.ep) return; r.ep = !0; const t = n(r); fetch(r.href, t) } })(); const u = void 0, f = void 0; console.error("Supabase credentials not found. Please check your .env file."); const s = c(u, f); async function d() { const { data: { user: o }, error: e } = await s.auth.getUser(); return e ? (console.error("Error getting user:", e), null) : o } async function p(o) { const { data: e, error: n } = await s.from("profiles").select("*").eq("id", o).maybeSingle(); return n ? (console.error("Error fetching profile:", n), null) : e } async function g(o, e, n) { const { data: a, error: r } = await s.auth.signUp({ email: o, password: e }); if (r) throw r; if (a.user) { const { error: t } = await s.from("profiles").insert([{ id: a.user.id, name: n, bio: "", avatar_url: null }]); if (t) throw t } return a } async function h(o, e) { const { data: n, error: a } = await s.auth.signInWithPassword({ email: o, password: e }); if (a) throw a; return n } async function m() { const { error: o } = await s.auth.signOut(); if (o) throw o } async function y(o, e) { const { data: n, error: a } = await s.from("profiles").update(e).eq("id", o).select().single(); if (a) throw a; return n } async function w(o, e) { const n = e.name.split(".").pop(), r = `avatars/${`${o}-${Math.random()}.${n}`}`, { error: t } = await s.storage.from("avatars").upload(r, e); if (t) throw t; const { data: { publicUrl: i } } = s.storage.from("avatars").getPublicUrl(r); return i } export { p as a, w as b, m as c, h as d, g as e, d as g, s, y as u };
